<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Crane Selector Chatbot</title>
    <style>
        body { font-family: Arial, sans-serif; text-align: center; margin: 50px; }
        #chatbox { width: 60%; height: 400px; overflow-y: auto; border: 1px solid #ccc; padding: 10px; margin: auto; }
        .bot { color: blue; font-weight: bold; }
        .user { color: green; font-weight: bold; }
        input, button { padding: 10px; margin-top: 10px; }
    </style>
</head>
<body>

    <h1>Crane Selection Chatbot</h1>
    <div id="chatbox"></div>
    <input type="text" id="userInput" placeholder="Type here..." disabled>
    <button onclick="nextQuestion()" id="nextBtn">Start</button>

    <script>
        let answers = {};
        let step = 0;
        let questions = [
            "What is the load weight in tons? (e.g., 10, 50, 200)",
            "What is the lift radius in meters? (e.g., 5, 20, 50)",
            "Wind condition? (low, medium, high)",
            "Terrain type? (hard, soft, uneven, water)",
            "Lifting height in meters? (e.g., 10, 50, 100)"
        ];

        function nextQuestion() {
            let chatbox = document.getElementById("chatbox");
            let userInput = document.getElementById("userInput");
            let nextBtn = document.getElementById("nextBtn");

            if (step > 0) {
                let userAnswer = userInput.value.toLowerCase();
                answers[step - 1] = userAnswer;
                chatbox.innerHTML += `<p class="user">You: ${userAnswer}</p>`;
            }

            if (step < questions.length) {
                chatbox.innerHTML += `<p class="bot">Bot: ${questions[step]}</p>`;
                userInput.value = "";
                userInput.focus();
                step++;
            } else {
                suggestCrane();
            }
        }

        function suggestCrane() {
            let [load, radius, wind, terrain, height] = Object.values(answers).map(a => a.toLowerCase());

            let cranes = [
                { name: "Mobile Crane", conditions: load <= 100 && radius <= 30 && wind !== "high" && terrain === "hard" && height <= 50 },
                { name: "Crawler Crane", conditions: load > 50 && load <= 300 && radius > 10 && radius <= 50 && wind !== "low" && (terrain === "soft" || terrain === "uneven") && height <= 100 },
                { name: "Tower Crane", conditions: load <= 20 && radius > 50 && wind === "low" && terrain === "hard" && height > 50 },
                { name: "Rough Terrain Crane", conditions: load <= 80 && radius <= 20 && wind !== "low" && terrain === "uneven" && height <= 40 },
                { name: "All-Terrain Crane", conditions: load > 50 && radius > 10 && radius <= 60 && wind !== "low" && (terrain === "hard" || terrain === "soft" || terrain === "uneven") && height > 30 },
                { name: "Floating Crane", conditions: load > 100 && radius > 20 && wind !== "low" && terrain === "water" && height > 30 },
                { name: "Telescopic Crane", conditions: load <= 200 && radius <= 50 && wind !== "high" && (terrain === "hard" || terrain === "uneven") && height <= 80 },
                { name: "Truck-Mounted Crane", conditions: load <= 90 && radius <= 30 && wind !== "high" && (terrain === "hard" || terrain === "soft") && height <= 50 },
                { name: "Gantry Crane", conditions: load > 50 && radius <= 50 && wind === "low" && terrain === "hard" && height <= 70 },
                { name: "Overhead Crane", conditions: load > 50 && radius <= 30 && wind === "low" && terrain === "hard" && height <= 50 }
            ];

            let selectedCrane = cranes.find(crane => crane.conditions);
            let chatbox = document.getElementById("chatbox");

            if (selectedCrane) {
                chatbox.innerHTML += `<p class="bot">Bot: Based on your inputs, the best crane for you is: <strong>${selectedCrane.name}</strong></p>`;
            } else {
                chatbox.innerHTML += `<p class="bot">Bot: No suitable crane found based on your inputs. Try adjusting your requirements.</p>`;
            }

            document.getElementById("userInput").disabled = true;
            document.getElementById("nextBtn").disabled = true;
        }

        document.getElementById("userInput").addEventListener("keypress", function (e) {
            if (e.key === "Enter") {
                nextQuestion();
            }
        });
    </script>

</body>
</html>
